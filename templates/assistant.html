<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente IA - Development Diary</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/assistant-page.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container-assistant">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <div class="icon-title">
                    <div class="icon">ğŸ¤–</div>
                    <h1>Asistente IA</h1>
                </div>
                <p class="subtitle">Pregunta sobre tu historial de desarrollo</p>
            </div>

            <div class="header-actions">
                <a href="/" class="btn-back">ğŸ“ Nueva Entrada</a>
                <a href="/viewer" class="btn-back">ğŸ“– Ver Historial</a>
                <button id="shutdownBtn" class="shutdown-btn">ğŸ”´ Detener</button>
            </div>
        </div>

        <!-- Contenedor principal -->
        <div class="assistant-container">
            <!-- Panel izquierdo: Chat -->
            <div class="chat-panel">
                <div class="chat-modes">
                    <button class="mode-btn active" data-mode="search" title="Buscar problemas similares">
                        ğŸ” Buscar Similar
                    </button>
                    <button class="mode-btn" data-mode="suggest" title="Sugerir soluciones">
                        ğŸ’¡ Sugerir SoluciÃ³n
                    </button>
                    <button class="mode-btn" data-mode="files" title="Archivos relacionados">
                        ğŸ“‚ Archivos
                    </button>
                    <button class="mode-btn" data-mode="analyze" title="Analizar patrones">
                        ğŸ“Š Analizar
                    </button>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="chat-message assistant">
                        <div class="message-content">
                            <h3>ğŸ‘‹ Â¡Hola! Soy tu Asistente IA</h3>
                            <p>Puedo ayudarte con:</p>
                            <ul>
                                <li><strong>ğŸ” Buscar Similar:</strong> "Â¿He tenido este error antes?"</li>
                                <li><strong>ğŸ’¡ Sugerir SoluciÃ³n:</strong> "Â¿CÃ³mo puedo resolver X?"</li>
                                <li><strong>ğŸ“‚ Archivos:</strong> "Â¿QuÃ© archivos debo revisar?"</li>
                                <li><strong>ğŸ“Š Analizar:</strong> "Â¿QuÃ© errores cometo mÃ¡s?"</li>
                            </ul>
                            <p><small>Haz una pregunta sobre tu cÃ³digo ğŸ˜Š</small></p>
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <div class="project-selector">
                        <label>ğŸ“ Contexto:</label>
                        <select id="projectContext">
                            <option value="">Todos los proyectos</option>
                        </select>
                    </div>

                    <div class="input-wrapper">
                        <textarea
                            id="questionInput"
                            placeholder="Escribe tu pregunta aquÃ­..."
                            rows="3"
                        ></textarea>
                        <button id="sendQuestion" class="send-btn">
                            ğŸ“¤ Enviar
                        </button>
                    </div>
                </div>
            </div>

            <!-- Panel derecho: Referencias -->
            <div class="references-panel">
                <div class="panel-header">
                    <h3>ğŸ“š Archivos Referenciados</h3>
                    <span id="referencesCount" class="count-badge">0</span>
                </div>

                <div id="referencesContent" class="references-content">
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ“­</div>
                        <p>Haz una pregunta para ver archivos relacionados</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/assistant-page.js') }}"></script>
</body>
</html>